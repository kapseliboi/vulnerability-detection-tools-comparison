import yargs from 'yargs';
import { hideBin } from 'yargs/helpers';
import { analyze } from './analyze';

const argv = yargs(hideBin(process.argv))
    .command<{ inputFile: string }>(
        'analyze [inputFile]',
        'Analyze projects given as input',
        (analyzeYargs) => {
            analyzeYargs.positional('inputFile', { type: 'string', describe: 'path to project input file' })
                .demandOption('inputFile');
        },
        async (argvAnalyze) => {
            await analyze(argvAnalyze.inputFile);
        })
    .help('h')
    .alias('h', 'help')
    .argv;

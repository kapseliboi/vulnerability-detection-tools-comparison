import { env } from 'process';
import dotenv from 'dotenv';
import Path from 'path';

dotenv.config();

function requiredEnv(key: string): string {
    const value = env[key];
    if (!value) {
        throw new Error(`Missing environment variable ${key}`);
    }
    return value;
}

export default {
    TMP_DIR_PATH: Path.join(__dirname, '../tmp'),
    RESULTS_PATH: Path.join(__dirname, '../results'),
    GITHUB_USERNAME: requiredEnv('GITHUB_USERNAME'),
    GITHUB_TOKEN: requiredEnv('GITHUB_TOKEN'),
    // @ts-ignore
    usingTsNode: !!process[Symbol.for('ts-node.register.instance')],
};

import { Entity, ManyToOne, Column, PrimaryGeneratedColumn, Unique } from 'typeorm';
import { Dependency } from './dependency';

@Entity()
@Unique(['dependency', 'path'])
export class DependencyPath {
    @PrimaryGeneratedColumn()
    id!: number;

    @ManyToOne(() => Dependency, (dependency) => dependency.dependencyPaths, { onDelete: 'CASCADE' })
    dependency!: Dependency;

    @Column()
    path!: string;
}

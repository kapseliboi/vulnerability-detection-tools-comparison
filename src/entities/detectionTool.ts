import { Column, Entity, OneToMany, PrimaryColumn } from 'typeorm';
import { Dependency } from './dependency';
import { ProjectError } from './projectError';
import { ToolExecution } from './toolExecution';
import { Vulnerability } from './vulnerability';

@Entity()
export class DetectionTool {
    @PrimaryColumn()
    name!: string;

    @PrimaryColumn()
    version!: string;

    @OneToMany(() => ProjectError, (projectError) => projectError.detectionTool)
    projectErrors!: ProjectError[];

    @OneToMany(() => Dependency, (dependency) => dependency.tool)
    dependencies!: Dependency[];

    @OneToMany(() => Vulnerability, (vulnerability) => vulnerability.tool)
    vulnerabilities!: Vulnerability[];

    @OneToMany(() => ToolExecution, (toolExecution) => toolExecution.tool)
    toolExecutions!: ToolExecution[];
}
